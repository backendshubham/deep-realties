<%- include('../layouts/main', { content: `
<!-- Hero Section -->
<section class="relative bg-gradient-to-b from-emerald-50 via-emerald-50/50 to-white dark:from-gray-900 dark:via-gray-900 dark:to-gray-900 py-12 sm:py-16 lg:py-20 overflow-hidden">
    <!-- Decorative Background Elements -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-20 left-10 w-64 sm:w-96 h-64 sm:h-96 bg-emerald-100 dark:bg-emerald-900/10 rounded-full blur-3xl opacity-40"></div>
        <div class="absolute bottom-20 right-20 w-56 sm:w-80 h-56 sm:h-80 bg-emerald-50 dark:bg-emerald-900/20 rounded-full blur-3xl opacity-30"></div>
    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
        <span class="badge-text inline-block px-3 sm:px-4 py-1.5 sm:py-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-full mb-4 sm:mb-6 text-xs sm:text-sm border border-emerald-200 dark:border-emerald-800 text-emerald-700 dark:text-emerald-300">
            Our Projects
        </span>
        <h1 class="section-title text-3xl sm:text-4xl md:text-5xl lg:text-6xl mb-3 sm:mb-4 px-2">
            <span class="text-gray-900 dark:text-white">Our Projects</span>
        </h1>
    </div>
</section>

<!-- Informative Content Section -->
<section class="py-8 sm:py-12 lg:py-16 bg-white dark:bg-gray-900">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center mb-12">
            <div>
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">
                    Explore Our Real Estate Projects
                </h2>
                <p class="text-lg text-gray-600 dark:text-gray-300 mb-6 leading-relaxed">
                    Discover our carefully curated selection of real estate projects including residential colonies, commercial developments, and mixed-use properties. Each project is designed with modern amenities, prime locations, and quality construction.
                </p>
                <p class="text-lg text-gray-600 dark:text-gray-300 leading-relaxed">
                    Whether you're looking for a new home, investment opportunity, or commercial space, our projects offer excellent value, legal compliance, and promising growth potential. Browse through our ongoing and upcoming projects to find the perfect match for your needs.
                </p>
            </div>
            <div class="bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-8 border border-emerald-100 dark:border-emerald-800">
                <h3 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Why Choose Our Projects?</h3>
                <div class="space-y-4">
                    <div class="flex items-start">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <div>
                            <h4 class="font-semibold text-gray-900 dark:text-white mb-1">Prime Locations</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">All projects are strategically located in well-connected areas with good infrastructure and future growth potential.</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <div>
                            <h4 class="font-semibold text-gray-900 dark:text-white mb-1">Legal Compliance</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Every project is verified for legal compliance, proper documentation, and regulatory approvals.</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <div>
                            <h4 class="font-semibold text-gray-900 dark:text-white mb-1">Modern Amenities</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Our projects feature modern amenities like security, parking, parks, and community facilities.</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <div>
                            <h4 class="font-semibold text-gray-900 dark:text-white mb-1">Quality Construction</h4>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">We ensure high-quality construction standards and timely project completion.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
                <svg class="w-12 h-12 text-emerald-600 dark:text-emerald-400 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                </svg>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Ongoing Projects</h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm">
                    Explore projects currently under construction. These developments offer early-bird pricing and the opportunity to customize your space.
                </p>
            </div>
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
                <svg class="w-12 h-12 text-emerald-600 dark:text-emerald-400 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Upcoming Projects</h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm">
                    Get early access to upcoming projects and secure your spot. Pre-launch offers and flexible payment plans available.
                </p>
            </div>
            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
                <svg class="w-12 h-12 text-emerald-600 dark:text-emerald-400 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Completed Projects</h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm">
                    Browse our completed projects with ready-to-move-in properties. These offer immediate possession and proven quality.
                </p>
            </div>
        </div>

        <div class="bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-2xl p-8 border border-emerald-200 dark:border-emerald-800 mb-12">
            <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Types of Real Estate Projects</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg> Residential Colonies
                    </h4>
                    <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
                        Planned residential colonies with plots, houses, and apartments. These projects offer well-designed layouts, proper infrastructure, and community living with parks, roads, and essential facilities.
                    </p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg> Commercial Projects
                    </h4>
                    <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
                        Commercial developments including office spaces, shops, and business centers. Ideal for businesses and investors looking for commercial real estate opportunities.
                    </p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg> Mixed-Use Developments
                    </h4>
                    <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
                        Integrated projects combining residential, commercial, and retail spaces. These developments offer convenience and lifestyle benefits with everything in one place.
                    </p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2 flex items-center">
                        <svg class="w-6 h-6 mr-2 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg> Township Projects
                    </h4>
                    <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
                        Large-scale township developments with comprehensive planning, modern infrastructure, and all essential amenities for a complete living experience.
                    </p>
                </div>
            </div>
        </div>

        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-8 border border-blue-200 dark:border-blue-800">
            <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">What to Look for in a Real Estate Project</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-3">
                    <div class="flex items-start">
                        <span class="text-emerald-600 dark:text-emerald-400 mr-2 font-bold">•</span>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">
                            <strong class="text-gray-900 dark:text-white">Location & Connectivity:</strong> Check proximity to schools, hospitals, markets, and public transport. Good connectivity increases property value.
                        </p>
                    </div>
                    <div class="flex items-start">
                        <span class="text-emerald-600 dark:text-emerald-400 mr-2 font-bold">•</span>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">
                            <strong class="text-gray-900 dark:text-white">Legal Documentation:</strong> Verify all approvals, RERA registration, clear title, and proper documentation before investing.
                        </p>
                    </div>
                    <div class="flex items-start">
                        <span class="text-emerald-600 dark:text-emerald-400 mr-2 font-bold">•</span>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">
                            <strong class="text-gray-900 dark:text-white">Builder Reputation:</strong> Research the developer's track record, past projects, and customer reviews to ensure reliability.
                        </p>
                    </div>
                </div>
                <div class="space-y-3">
                    <div class="flex items-start">
                        <span class="text-emerald-600 dark:text-emerald-400 mr-2 font-bold">•</span>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">
                            <strong class="text-gray-900 dark:text-white">Amenities & Facilities:</strong> Look for essential amenities like security, parking, water supply, power backup, and recreational spaces.
                        </p>
                    </div>
                    <div class="flex items-start">
                        <span class="text-emerald-600 dark:text-emerald-400 mr-2 font-bold">•</span>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">
                            <strong class="text-gray-900 dark:text-white">Payment Plans:</strong> Understand the payment schedule, construction-linked plans, and ensure they fit your budget and timeline.
                        </p>
                    </div>
                    <div class="flex items-start">
                        <span class="text-emerald-600 dark:text-emerald-400 mr-2 font-bold">•</span>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">
                            <strong class="text-gray-900 dark:text-white">Future Development:</strong> Consider upcoming infrastructure projects, planned developments, and growth potential in the area.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Projects Grid Section -->
<section class="min-h-screen py-8 bg-gradient-to-b from-white via-emerald-50/20 to-white dark:from-gray-900 dark:via-gray-900 dark:to-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-8">
            <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2">Browse Our Projects</h2>
            <p class="text-gray-600 dark:text-gray-400">Select a project to view detailed information, amenities, pricing, and location</p>
        </div>
        
        <div id="projectsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Projects will be loaded here -->
        </div>
    </div>
</section>

<script>
    async function loadProjects() {
        const response = await fetch('/api/projects');
        const data = await response.json();
        
        const grid = document.getElementById('projectsGrid');
        // Simple placeholder image as data URI (SVG) - using double quotes to avoid syntax errors
        const placeholderImage = 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22300%22%3E%3Crect fill=%22%23e5e7eb%22 width=%22400%22 height=%22300%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-size=%2218%22 fill=%22%239ca3af%22%3ENo Image%3C/text%3E%3C/svg%3E';
        
        if (data.projects && data.projects.length > 0) {
            grid.innerHTML = data.projects.map(function(project) {
                const projectImage = (project.images && project.images[0]) ? project.images[0] : placeholderImage;
                const statusClass = project.status === 'completed' ? 'bg-green-100 text-green-800' : project.status === 'ongoing' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800';
                return '<div class="bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden">' +
                    '<img src="' + projectImage + '" alt="' + project.name + '" class="w-full h-48 object-cover">' +
                    '<div class="p-4">' +
                        '<h3 class="text-xl font-semibold mb-2">' + project.name + '</h3>' +
                        '<p class="text-gray-600 dark:text-gray-400 mb-2">' + project.location + ', ' + project.city + '</p>' +
                        '<span class="px-3 py-1 rounded text-sm ' + statusClass + '">' +
                            project.status +
                        '</span>' +
                        '<a href="/projects/' + project.id + '" class="block mt-4 text-center px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg">' +
                            'View Details' +
                        '</a>' +
                    '</div>' +
                '</div>';
            }).join('');
        } else {
            grid.innerHTML = '<p class="col-span-full text-center">No projects available</p>';
        }
    }
    
    document.addEventListener('DOMContentLoaded', function() {
        // Hide loader immediately if page was restored
        if (typeof window.hidePageLoader === 'function') {
            window.hidePageLoader();
        }
        // Force hide loader element directly as backup
        const loader = document.getElementById('pageLoader');
        if (loader && loader.classList.contains('show')) {
            // Small delay to ensure pageshow handler has run
            setTimeout(function() {
                loader.classList.remove('show');
            }, 50);
        }
        loadProjects();
    });
    
    // Handle browser back/forward navigation
    window.addEventListener('pageshow', function(event) {
        if (event.persisted) {
            // Page was restored from cache (back/forward button)
            if (typeof window.hidePageLoader === 'function') {
                window.hidePageLoader();
            }
            // Force hide loader element directly
            const loader = document.getElementById('pageLoader');
            if (loader) {
                loader.classList.remove('show');
                loader.style.display = 'none';
            }
            // Reload projects data
            loadProjects();
        }
    });
</script>
` }) %>

